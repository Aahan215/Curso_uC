INT_RX:
    BSF	    INTCON,7	    ;ACTIVAMOS INTERRUPCIONES GLOBALES
    BSF	    INTCON,6
    BANKSEL PIE1
    BSF	    PIE1,5
    RETURN
RX:
   BANKSEL  PIR1
   BTFSS    PIR1,5
   GOTO	    $-1
   MOVF	    RCREG,W
   RETURN
    
    
    
TX:
    BANKSEL TXSTA
    BTFSS   TXSTA,1
    GOTO    TX
    BANKSEL TXREG
    MOVWF   TXREG
    RETURN
    
INIT_TX_RX:
    BANKSEL SPBRG
    ; CONFIUARAMOS VELOCIDAD DE TRANSMICION A 9600 BAUIDOS
    MOVLW   .207	
    MOVWF   SPBRG
    CLRF    SPBRGH
    ;CONFIGURAMOS TRASMINCIÓN DE ALTA FRECUENCIA Y GENERADOR DE BAUDIOS CON 16 BITS
    BANKSEL BAUDCTL 
    BSF	    BAUDCTL,3
    BANKSEL TXSTA
    BSF	    TXSTA,2
    BCF	    TXSTA,6 ;TRANSMICION A 8 BITS
    BSF	    TXSTA,5 ;ACTIVAMOS TRANSMICIÓN
    
    ;ACTIVAR COMUNICACIÓN ASINCRONA
    BCF	    TXSTA,4
    BANKSEL RCSTA
    BSF	    RCSTA,7
    BSF	    RCSTA,4 ;ACTIVAR RECEPCIÓN
    BCF	    RCSTA,6 ;RECEPCIÓN A 9 BITS DESACTIVADA
    
    RETURN
    


